[package]
name = "state-res"
version = "0.1.0"
authors = ["Devin R <devin.ragotzy@gmail.com>"]
edition = "2018"
categories = ["api-bindings", "web-programming"]
description = "An abstraction for Matrix state resolution."
homepage = "https://www.ruma.io/"
keywords = ["matrix", "chat", "state resolution", "ruma"]
license = "MIT"
readme = "README.md"
repository = "https://github.com/ruma/state-res"

[dependencies]
itertools = "0.9.0"
serde = { version = "1.0.117", features = ["derive"] }
serde_json = "1.0.60"
tracing = "0.1.22"
maplit = "1.0.2"
thiserror = "1.0.22"

[dependencies.ruma]
git = "https://github.com/ruma/ruma"
# branch = "dev/unstable-join"
# path = "../__forks__/ruma/ruma"
rev = "cc07d26af688697229b3710178460ac5ffe657a4"
features = ["client-api", "federation-api", "appservice-api", "unstable-pre-spec", "unstable-synapse-quirks"]

#[dependencies.ruma]
#path = "../ruma/ruma"
#features = ["client-api", "federation-api", "appservice-api"]

# [dependencies.ruma]
# git = "https://github.com/timokoesters/ruma"
# branch = "timo-fed-fixes"
# #rev = "aff914050eb297bd82b8aafb12158c88a9e480e1"
# features = ["client-api", "federation-api", "appservice-api"]

[features]
default = ["unstable-pre-spec"]
gen-eventid = []
unstable-pre-spec = ["ruma/unstable-pre-spec"]

[dev-dependencies]
criterion = "0.3.3"
rand = "0.7.3"
tracing-subscriber = "0.2.15"

[[bench]]
name = "state_res_bench"
harness = false
